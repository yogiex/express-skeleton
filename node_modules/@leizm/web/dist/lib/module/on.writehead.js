"use strict";
/**
 * @leizm/web 中间件基础框架 - 内置模块
 * @author Zongmin Lei <leizongmin@gmail.com>
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.ON_WRITE_HEAD = exports.WRITE_HEAD = void 0;
exports.WRITE_HEAD = Symbol("origin res.writeHead");
exports.ON_WRITE_HEAD = Symbol("on writeHead event");
function onWriteHead(res, callback) {
    res.once(exports.ON_WRITE_HEAD, callback);
    if (exports.WRITE_HEAD in res)
        return;
    res[exports.WRITE_HEAD] = res.writeHead;
    res.writeHead = function (...args) {
        this.emit(exports.ON_WRITE_HEAD);
        return this[exports.WRITE_HEAD](...args);
    };
}
exports.default = onWriteHead;
