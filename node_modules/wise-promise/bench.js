'use strict';
const Wise = require('./.');
const Jelly = require('jellypromise/production');

const wiseArray = new Array(20).fill(null).map(() => Wise.resolve({ foo: 'bar' }));
const jellyArray = new Array(20).fill(null).map(() => Jelly.resolve({ foo: 'bar' }));

(new (require('benchmark')).Suite)
.add('wise-promise', { defer: true, fn: (deferred) => {
	Wise.any(wiseArray).then(() => deferred.resolve());
}})
.add('jellypromise', { defer: true, fn: (deferred) => {
	Jelly.any(jellyArray).then(() => deferred.resolve());
}})
.on('cycle', (event) => {
	console.log(String(event.target));
})
.run({ async: true });
